<!DOCTYPE>
<html>
<head>
    <title>CHIP</title>
    <link rel="stylesheet" href="chip-style.css">
</head>
<body>

    <form method="post" action="SetFace">
        <label for="Faces">Choose a Face:</label>
        <select name="Faces" id="chip-faces" onchange="onSelectChange()">
            <option value="Happy face"></option>
            <option value="Happy face">Happy face</option>
            <option value="Sad face">Sad face</option>
            <option value="Angry face">Angry face</option>
            <option value="What face">What face</option>
            <option value="Flag face">Flag face</option>
            <!-- <option value="Gif face">Gif face</option> -->
            <option value="Shock face">Shock face</option>
            <!-- <option value="Snake face">Snake face</option> -->
            <option value="Overheat face">Overheat face</option>
            <!-- <option value="Cwood face">Cwood face</option> -->
            <option value="Lowbatt face">Lowbatt face</option>
            <option value="Pacman face">Pacman face</option>
            <option value="Matrix face">Matrix face</option>
            <!-- <option value="8 Ball Face">8 Ball Face</option> -->
            <!-- <option value="SHAKE BALL">SHAKE BALL</option> -->
            <option value="HALLOWEEN FACE">HALLOWEEN FACE</option>
            <option value="LOVE FACE">LOVE FACE</option>
            <option value="textTest face">textTest face</option>
            <option value="DvD face">DvD face</option>
            <option value="matrix rain">matrix rain</option>
        </select>
        <!--<input type="submit" value="SetFace">-->
    </form>
    <form method="post" action="SetTextFace">
        <label for="Faces">write text to Face:</label>
        <input type="text" id="ftext" name="ftext"><br>
        <label for="Faces">delay:</label>
        <input type="range" id="speed" name="speed" min="1" max="50"><br>
        <label for="Faces">colour:</label>
        <input type="color" id="color" name="color" value="#ffffff"><br>
        <input type="checkbox" id="leftToRight" name="leftToRight" value="ltr">
        <label for="Faces"> scroll right</label><br>
        <input type="submit" value="SetTextFace">
    </form>

    <section class="container">
        <div id="toolbar">
            <h1>Draw.</h1>
            <label for="stroke">Stroke</label>
            <input id="stroke" name='stroke' type="color">
            <label for="lineWidth">Line Width</label>
            <input id="lineWidth" name='lineWidth' type="number" value="5">
            <button id="clear">Clear</button>
        </div>
        <div class="drawing-board">
            <canvas id="drawing-board"></canvas>
        </div>
    </section>
   


</body>

</html>
<script>
    function onSelectChange(event) {

        selectElement = document.querySelector('#chip-faces');
        selectElement.form.submit();
    };





    const canvas = document.getElementById('drawing-board');
    const toolbar = document.getElementById('toolbar');
    const ctx = canvas.getContext('2d');

    const canvasOffsetX = canvas.offsetLeft;
    const canvasOffsetY = canvas.offsetTop;

    canvas.width = window.innerWidth - canvasOffsetX;
    canvas.height = window.innerHeight - canvasOffsetY;

    let isPainting = false;
    let lineWidth = 5;
    let startX;
    let startY;

    toolbar.addEventListener('click', e => {
        if (e.target.id === 'clear') {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
    });

    toolbar.addEventListener('change', e => {
        if (e.target.id === 'stroke') {
            ctx.strokeStyle = e.target.value;
        }

        if (e.target.id === 'lineWidth') {
            lineWidth = e.target.value;
        }

    });

    
    const draw = (e) => {
        if (!isPainting) {
            return;
        }

        ctx.lineWidth = lineWidth;
        ctx.lineCap = 'round';

        ctx.lineTo(e.clientX - canvasOffsetX, e.clientY);
        ctx.stroke();
    }

    canvas.addEventListener('mousedown', (e) => {
        isPainting = true;
        startX = e.clientX;
        startY = e.clientY;
    });

    canvas.addEventListener('mouseup', e => {
        isPainting = false;
        ctx.stroke();
        ctx.beginPath();
    });

    canvas.addEventListener('touchstart', (e) => {
        isPainting = true;
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
    });

    canvas.addEventListener('touchend', e => {
        isPainting = false;
        ctx.stroke();
        ctx.beginPath();
    });

    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('touchmove', draw);



</script>